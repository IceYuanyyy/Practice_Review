# 线程池配置
thread:
  pool:
    executor:
      config:
        core-pool-size: 20
        max-pool-size: 50
        keep-alive-time: 5000
        block-queue-size: 5000
        policy: CallerRunsPolicy

server:
  port: 9090
  servlet:
    context-path: /
  tomcat:
    # tomcat的URI编码
    uri-encoding: UTF-8
    # 连接数满后的排队数，默认为100
    accept-count: 1000
    threads:
      # tomcat最大线程数，默认为200
      max: 800
      # Tomcat启动初始化的线程数，默认值10
      min-spare: 100

spring:
  application:
    name: exam-practice
  
  # 数据源配置
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/exam_practice?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Shanghai&useSSL=false&allowPublicKeyRetrieval=true
    username: root
#    username: exam_practice
    password: 123456
    
  # Jackson 配置
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+8
    default-property-inclusion: non_null

  # 文件上传配置
  servlet:
    multipart:
      # 单个文件大小
      max-file-size: 10MB
      # 设置总上传的文件大小
      max-request-size: 20MB

# MyBatis-Plus 配置
mybatis-plus:
  configuration:
    # 日志输出（改为ERROR级别减少日志输出）
    log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl
    # 驼峰命名转换
    map-underscore-to-camel-case: true
    # 自动映射BLOB字段
    auto-mapping-behavior: full
    # 默认执行器类型
    default-executor-type: reuse
  global-config:
    db-config:
      # 主键类型：AUTO 自增
      id-type: auto
      # 逻辑删除字段名
      logic-delete-field: deleted
      # 逻辑删除值
      logic-delete-value: 1
      # 逻辑未删除值
      logic-not-delete-value: 0
  # Mapper XML 文件位置
  mapper-locations: classpath:mapper/*.xml
  # 实体类扫描包
  type-aliases-package: com.exam.entity
  # 自动类型处理器(包括JSON字段)
  type-handlers-package: com.baomidou.mybatisplus.extension.handlers

# 日志配置
logging:
  level:
    com.exam: debug
    org.springframework: info

# Sa-Token 配置
sa-token:
  # Token 名称（同时也是请求头中携带 Token 时的名称）
  token-name: Authorization
  # Token 有效期（7天，单位秒）
  timeout: 604800
  # Token 风格
  token-style: uuid
  # 是否允许同一账号多地同时登录
  is-concurrent: true
  # 在多人登录同一账号时，是否共用一个 Token
  is-share: false
  # 是否输出操作日志
  is-log: false
  # Token 临时有效期（30分钟无操作则过期，-1表示不限制）
  active-timeout: 1800

# 邮件配置（QQ邮箱）
spring.mail:
  host: smtp.qq.com
  port: 587
  username: 2478686497@qq.com
  password: wtvufqoicsgjdife
  protocol: smtp
  properties:
    mail:
      smtp:
        auth: true
        starttls:
          enable: true
          required: true
  default-encoding: UTF-8

